// Module included in the following assemblies:
//
// * hosted-control-planes/hcp-prepare/hcp-observability.adoc


:_mod-docs-content-type: CONCEPT
[id="hcp-connect-data-plane_{context}"]
= Connectivity monitoring from the control plane to the data plane

[role="_abstract"]
Cluster administrators can monitor network activity between a hosted control plane and the compute nodes in a data plane by using the `DataPlaneConnectionAvailable` condition. This condition is useful for identifying and troubleshooting network connectivity issues in hosted clusters. The `DataPlaneConnectionAvailable` condition is available by default starting with version 4.21.

The `DataPlaneConnectionAvailable` condition monitors the connectivity from the control plane to the data plane. It monitors activity by taking the following steps:

. Counts available compute nodes in the hosted cluster.
. Lists `konnectivity-agent` pods that are running in the `kube-system` namespace on the data plane.
. Reads logs from running `konnectivity-agent` pods to verify that they can communicate with the control plane.

The `hosted-cluster-config-operator` component that runs in the control plane namespace evaluates the condition and provides status and reason information.

The following table details the status and reason values that can be displayed for the condition:

[cols="3",options="header"]
|===
|Status |Reason |Description

|`True`
|`AsExpected`
|The control plane can reach the data plane nodes through the `konnectivity-agent` pods.

|`False`
|`KonnectivityAgentPodsNotFound`
|No `konnectivity-agent` pods are running, or none are found.

|`False`
|`ReconciliationError`
|An error occurred while listing the `konnectivity-agent` pods.

|`Unknown`
|`NoWorkerNodesAvailable`
|No compute nodes are available in the cluster. No errors occurred, but no compute nodes were found.

|`Unknown`
|`ReconcileError`
|Unable to count compute nodes because an error occurred.
|===

// commenting out this reference until PR 106002 is merged
// For information about how to troubleshoot connectivity issues, see "Troubleshooting connectivity for {hcp}".