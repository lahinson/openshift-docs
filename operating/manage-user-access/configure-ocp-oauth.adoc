:_content-type: ASSEMBLY
[id="configure-ocp-oauth"]
= Configuring {ocp} OAuth server as an identity provider
include::modules/common-attributes.adoc[]
:context: configure-ocp-oauth

toc::[]

[role="_abstract"]
{ocp} includes a built-in OAuth server that you can use as an authentication provider for {product-title} ({product-title-short}).

include::modules/configure-ocp-oauth-identity-provider.adoc[leveloffset=+1]

[IMPORTANT]
====
* If you use a custom TLS certificate for {ocp} OAuth server, you must add the CAâ€™s root certificate to {product-title} as a trusted root CA. Otherwise, Central cannot connect to the {ocp} OAuth server.
* To enable the {ocp} OAuth server integration when installing {product-title} using the `roxctl` CLI, set the `ROX_ENABLE_OPENSHIFT_AUTH` environment variable to `true` in Central:
+
[source,terminal]
----
$ oc -n stackrox set env deploy/central ROX_ENABLE_OPENSHIFT_AUTH=true
----
* For access rules, you should use the key `Name` to reference the user name that the {ocp} OAuth server returns.
* For access rules, the {ocp} OAuth server does not return the key `Email`.
====

[role="_additional-resources"]
.Additional resources
* link:https://docs.openshift.com/container-platform/4.9/authentication/identity_providers/configuring-ldap-identity-provider.html[Configuring an LDAP identity provider ]
* xref:../../configuration/add-trusted-ca.adoc[Adding trusted certificate authorities ]
